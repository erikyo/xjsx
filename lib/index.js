var s,r=class{subs;constructor(){this.subs=new Set}add(){s&&this.subs.add(s)}notify(){this.subs.forEach(t=>t&&t())}},a=n=>typeof n=="function",o=n=>typeof n=="object"&&n!==null,c=(n,t)=>(o(n)?Object.keys(n).forEach(e=>{o(n[e])?t[e]=c(n[e],t[e]):t[e]=n[e]}):t=n,t),f=(n,t)=>e=>{let u=a(e)?e(n.data):e;o(u)?c(u,n.data):n.data=u,t.notify()},i=n=>({get(t,e){return n.add(),o(t[e])?new Proxy(t[e],i(n)):t[e]}}),l=n=>{let t=new r,e=new Proxy({data:n},i(t));return[()=>e.data,f(e,t)]},y=n=>{s=n,s(),s=null},d=n=>n,p=n=>({current:n});export{d as useCallback,y as useEffect,p as useRef,l as useState};
